{% extends 'base.html' %}
{% load static %}
{% block head-css %}
<link rel="stylesheet" href="{% static 'css/home.css' %}" type="text/css" media="all" />
{% endblock %}

{% block content %}
<!-- Messages Section -->
<div class="messages-container">
{% for message in messages %}
    <div class="alert alert-{{ message.tags }}">
        {{ message }}
    </div> 
{% endfor %}
</div>

<!-- Hero Section -->
<section class="hero-section">
    <div class="hero-container">
        <div class="hero-content">
            <h1 class="hero-title">Welcome to BlogPost</h1>
            <p class="hero-subtitle">Discover amazing stories and connect with talented writers</p>
            <div class="hero-actions">
                {% if not request.user.is_authenticated %}
                    <a href="{% url 'sign_up' %}" class="btn btn-primary-hero">Get Started</a>
                    <a href="{% url 'login' %}" class="btn btn-secondary-hero">Sign In</a>
                {% else %}
                    <a href="/search/" class="btn btn-primary-hero">Explore Posts</a>
                    {% if request.user.author %}
                        <a href="{% url 'create_post' %}" class="btn btn-secondary-hero">Create Post</a>
                    {% endif %}
                {% endif %}
            </div>
        </div>
        <div class="hero-image">
            <div class="hero-card">
                <div class="card-icon">üìö</div>
                <h3>Discover Stories</h3>
                <p>Explore a world of knowledge and creativity</p>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="features-section">
    <div class="features-container">
        <h2 class="section-title">Why BlogPost?</h2>
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">‚úçÔ∏è</div>
                <h3 class="feature-title">Share Your Voice</h3>
                <p class="feature-description">Create and publish your stories with our intuitive writing tools</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üåü</div>
                <h3 class="feature-title">Connect with Readers</h3>
                <p class="feature-description">Build your audience and engage with a community of readers</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üìñ</div>
                <h3 class="feature-title">Discover Content</h3>
                <p class="feature-description">Find amazing stories and articles from talented writers</p>
            </div>
        </div>
    </div>
</section>

<!-- Recent Posts Preview -->
{% if posts %}
<section class="recent-posts-section">
    <div class="posts-container">
        <h2 class="section-title">Latest Stories</h2>
        <div class="posts-grid">
            {% for post in posts|slice:":3" %}
            <article class="post-card">
                {% if post.image %}
                    <div class="post-image">
                        <img src="/media/{{ post.image }}" alt="{{ post.title }}" />
                    </div>
                {% endif %}
                <div class="post-content">
                    <a href="{% url 'post_detail' post.url_slug %}"><h3 class="post-title">{{ post.title }}</h3></a>
                    <p class="post-excerpt">{{ post.content|truncatewords:20 }}</p>
                    <div class="post-meta">
                        <span class="post-author">{{ post.author.author_name }}</span>
                        <span class="post-date">{{ post.published_date|date:"M d, Y" }}</span>
                    </div>
                    <a href="{% url 'post_detail' post.url_slug %}" class="post-link">Read More</a>
                </div>
            </article>
            {% endfor %}
        </div>
        <div class="posts-cta">
            <a href="/search/" class="btn btn-outline-primary">View All Posts</a>
        </div>
    </div>
</section>
{% endif %}

<!-- Call to Action -->
{% if not request.user.is_authenticated %}
<section class="cta-section">
    <div class="cta-container">
        <div class="cta-content">
            <h2 class="cta-title">Ready to start your journey?</h2>
            <p class="cta-subtitle">Join our community of writers and readers today</p>
            <a href="{% url 'sign_up' %}" class="btn btn-cta">Get Started</a>
        </div>
    </div>
</section>
{% endif %}
{% endblock %}
